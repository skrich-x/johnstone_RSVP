<!doctype html>
<head>
  <meta charset="utf-8">

  <title>My Parse App</title>
  <meta name="description" content="My Parse App">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>
</head>

<body>

  <body>

    <div id="main">

          <img class="pure-img" src="graphic_snowflakeJS.png">

          <h2 class="rsvp-header">Customer Appreciation RSVP</h2>

          <form id="rsvp-form" name="rsvp-form" class="pure-form pure-form-stacked">
            <p>
              <label> First Name </label>
              <input id="first-name" name="first-name" maxlength="50" value="" type="text" placeholder="First Name" required>
            </p>

            <p>
              <label> Last Name </label>
              <input id="last-name" name="last-name" maxlength="50" value="" type="text" placeholder="Last Name" required>
            </p>

            <p>
              <label>Company Name</label>
              <input id="company-name" name="company-name" maxlength="30" value="" type="text" placeholder="Company Name" required>
            </p>

            <p>
              <label>How many guests will be attending?</label>
              <input id="attending" name="attending" value="" type="text" placeholder="# Attending" required>
            </p>

            <p>
              <label>Phone</label>
              <input id="customer-phone" name="customer-phone" maxlength="10" value="" type="text" placeholder="000-000-0000" required>
            </p>

            <p>
              <input id="rsvp-submit" class="pure-button" type="submit" value="Submit RSVP" />
            </p>

          </form>

      </div>

  <script type="text/javascript">
    Parse.initialize("NKT6BFAgN82xuHRXRJqAeb8H1rpAw7rW875QrGmC", "6L9eIYMvpiBSmfTMJt1acguiQx4vD2tn5QSEyGEW");

  var Attendee = Parse.Object.extend("Attendee");

  $("#rsvp-form").submit(function(event){
      event.preventDefault();
        var firstName = $("#first-name").val();
        var lastName = $("#last-name").val();
        var company = $("#company-name").val();
        var guests = $("#attending").val();
        var phone = $("#customer-phone").val();

        var newAttendee = new Attendee();
        newAttendee.set("firstName", firstName);
        newAttendee.set("lastName", lastName);
        newAttendee.set("company", company);
        newAttendee.set("guests", guests);
        newAttendee.set("phone", phone);

        newAttendee.save({
          success: function (){
            console.log("saved");
          }, error: function(error){
            console.log("Error:"+error.message);
          }
        });
    });

  </script>
</body>

</html>
